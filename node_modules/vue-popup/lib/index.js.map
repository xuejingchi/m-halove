{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 6824c467e0ed92102e99","webpack:///./src/index.js","webpack:///./src/popup-manager.js","webpack:///./src/util.js","webpack:///external \"vue\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_vue","_vue2","_util","_popupManager","_popupManager2","idSeed","transitions","hookTransition","transition","indexOf","getVueInstance","element","instance","__vue__","textNode","previousSibling","afterEnter","el","doAfterOpen","afterLeave","doAfterClose","getDOM","dom","nodeType","nextElementSibling","props","visible","type","Boolean","twoWay","String","openDelay","closeDelay","zIndex","modal","modalClass","closeOnPressEscape","closeOnClickModal","created","compiled","_popupId","register","beforeDestroy","deregister","closeModal","data","bodyOverflow","rendered","watch","val","_this","_opening","open","nextTick","close","methods","options","_this2","merge","_closeTimer","clearTimeout","_openTimer","Number","setTimeout","doOpen","willOpen","$el","_closing","openModal","nextZIndex","document","body","style","overflow","getComputedStyle","position","onOpen","_this3","willClose","doClose","onClose","getModal","modalDom","PopupManager","createElement","addEventListener","event","preventDefault","stopPropagation","handleModalClick","doOnModalClick","instances","getInstance","modalStack","topItem","length","undefined","i","j","item","classList","add","classArr","trim","split","forEach","remove","parentNode","appendChild","display","push","pop","splice","removeChild","removeEventListener","window","keyCode","target","arguments","source","prop","hasOwnProperty"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VuePopup\", [\"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VuePopup\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"VuePopup\"] = factory(root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VuePopup\", [\"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VuePopup\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"VuePopup\"] = factory(root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _popupManager = __webpack_require__(1);\n\t\n\tvar _popupManager2 = _interopRequireDefault(_popupManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(3);\n\t\n\tvar idSeed = 1;\n\tvar transitions = [];\n\t\n\tvar hookTransition = function hookTransition(transition) {\n\t  if (transitions.indexOf(transition) !== -1) return;\n\t\n\t  var getVueInstance = function getVueInstance(element) {\n\t    var instance = element.__vue__;\n\t    if (!instance) {\n\t      var textNode = element.previousSibling;\n\t      if (textNode.__vue__) {\n\t        instance = textNode.__vue__;\n\t      }\n\t    }\n\t    return instance;\n\t  };\n\t\n\t  _vue2.default.transition(transition, {\n\t    afterEnter: function afterEnter(el) {\n\t      var instance = getVueInstance(el);\n\t\n\t      if (instance) {\n\t        instance.doAfterOpen && instance.doAfterOpen();\n\t      }\n\t    },\n\t    afterLeave: function afterLeave(el) {\n\t      var instance = getVueInstance(el);\n\t\n\t      if (instance) {\n\t        instance.doAfterClose && instance.doAfterClose();\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tvar getDOM = function getDOM(dom) {\n\t  if (dom.nodeType === 3) {\n\t    return dom.nextElementSibling;\n\t  }\n\t  return dom;\n\t};\n\t\n\texports.default = {\n\t  props: {\n\t    visible: {\n\t      type: Boolean,\n\t      twoWay: true,\n\t      default: false\n\t    },\n\t    transition: {\n\t      type: String,\n\t      default: ''\n\t    },\n\t    openDelay: {},\n\t    closeDelay: {},\n\t    zIndex: {},\n\t    modal: {\n\t      type: Boolean,\n\t      default: false\n\t    },\n\t    modalClass: {},\n\t    closeOnPressEscape: {\n\t      type: Boolean,\n\t      default: false\n\t    },\n\t    closeOnClickModal: {\n\t      type: Boolean,\n\t      default: false\n\t    }\n\t  },\n\t\n\t  created: function created() {\n\t    if (this.transition) {\n\t      hookTransition(this.transition);\n\t    }\n\t  },\n\t  compiled: function compiled() {\n\t    this._popupId = 'popup-' + idSeed++;\n\t    _popupManager2.default.register(this._popupId, this);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    _popupManager2.default.deregister(this._popupId);\n\t    _popupManager2.default.closeModal(this._popupId);\n\t  },\n\t  data: function data() {\n\t    return {\n\t      bodyOverflow: null,\n\t      rendered: false\n\t    };\n\t  },\n\t\n\t\n\t  watch: {\n\t    visible: function visible(val) {\n\t      var _this = this;\n\t\n\t      if (val) {\n\t        if (this._opening) return;\n\t        if (!this.rendered) {\n\t          this.rendered = true;\n\t          _vue2.default.nextTick(function () {\n\t            _this.open();\n\t          });\n\t        } else {\n\t          this.open();\n\t        }\n\t      } else {\n\t        this.close();\n\t      }\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    open: function open(options) {\n\t      var _this2 = this;\n\t\n\t      if (!this.rendered) {\n\t        this.rendered = true;\n\t        this.visible = true;\n\t\n\t        return;\n\t      }\n\t\n\t      var props = (0, _util.merge)({}, this, options);\n\t\n\t      if (this._closeTimer) {\n\t        clearTimeout(this._closeTimer);\n\t        this._closeTimer = null;\n\t      }\n\t      clearTimeout(this._openTimer);\n\t\n\t      var openDelay = Number(props.openDelay);\n\t      if (openDelay > 0) {\n\t        this._openTimer = setTimeout(function () {\n\t          _this2._openTimer = null;\n\t          _this2.doOpen(props);\n\t        }, openDelay);\n\t      } else {\n\t        this.doOpen(props);\n\t      }\n\t    },\n\t    doOpen: function doOpen(props) {\n\t      if (this.willOpen && !this.willOpen()) return;\n\t\n\t      this._opening = true;\n\t      this.visible = true;\n\t\n\t      var dom = getDOM(this.$el);\n\t\n\t      var modal = props.modal;\n\t\n\t      var zIndex = props.zIndex;\n\t      if (zIndex) {\n\t        _popupManager2.default.zIndex = zIndex;\n\t      }\n\t\n\t      if (modal) {\n\t        if (this._closing) {\n\t          _popupManager2.default.closeModal(this._popupId);\n\t          this._closing = false;\n\t        }\n\t        _popupManager2.default.openModal(this._popupId, _popupManager2.default.nextZIndex(), dom, props.modalClass);\n\t        if (!this.bodyOverflow) {\n\t          this.bodyOverflow = document.body.style.overflow;\n\t        }\n\t        document.body.style.overflow = 'hidden';\n\t      }\n\t\n\t      if (getComputedStyle(dom).position === 'static') {\n\t        dom.style.position = 'absolute';\n\t      }\n\t\n\t      if (modal) {\n\t        dom.style.zIndex = _popupManager2.default.nextZIndex();\n\t      } else if (zIndex) {\n\t        dom.style.zIndex = zIndex;\n\t      }\n\t\n\t      this.onOpen && this.onOpen();\n\t\n\t      if (!this.transition) {\n\t        this.doAfterOpen();\n\t      }\n\t    },\n\t    doAfterOpen: function doAfterOpen() {\n\t      this._opening = false;\n\t    },\n\t    close: function close() {\n\t      var _this3 = this;\n\t\n\t      if (this.willClose && !this.willClose()) return;\n\t\n\t      if (this._openTimer !== null) {\n\t        clearTimeout(this._openTimer);\n\t        this._openTimer = null;\n\t      }\n\t      clearTimeout(this._closeTimer);\n\t\n\t      var closeDelay = Number(this.closeDelay);\n\t\n\t      if (closeDelay > 0) {\n\t        this._closeTimer = setTimeout(function () {\n\t          _this3._closeTimer = null;\n\t          _this3.doClose();\n\t        }, closeDelay);\n\t      } else {\n\t        this.doClose();\n\t      }\n\t    },\n\t    doClose: function doClose() {\n\t      this.visible = false;\n\t      this._closing = true;\n\t\n\t      this.onClose && this.onClose();\n\t\n\t      if (this.modal) {\n\t        document.body.style.overflow = this.bodyOverflow;\n\t      }\n\t\n\t      if (!this.transition) {\n\t        this.doAfterClose();\n\t      }\n\t    },\n\t    doAfterClose: function doAfterClose() {\n\t      _popupManager2.default.closeModal(this._popupId);\n\t      this._closing = false;\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar getModal = function getModal() {\n\t  var modalDom = PopupManager.modalDom;\n\t  if (!modalDom) {\n\t    modalDom = document.createElement('div');\n\t    PopupManager.modalDom = modalDom;\n\t\n\t    modalDom.addEventListener('touchmove', function (event) {\n\t      event.preventDefault();\n\t      event.stopPropagation();\n\t    });\n\t  }\n\t\n\t  return modalDom;\n\t};\n\t\n\tvar handleModalClick = function handleModalClick() {\n\t  PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n\t};\n\t\n\tvar instances = {};\n\t\n\tvar PopupManager = {\n\t  zIndex: 1000,\n\t\n\t  getInstance: function getInstance(id) {\n\t    return instances[id];\n\t  },\n\t\n\t  register: function register(id, instance) {\n\t    if (id && instance) {\n\t      instances[id] = instance;\n\t    }\n\t  },\n\t\n\t  deregister: function deregister(id) {\n\t    if (id) {\n\t      instances[id] = null;\n\t      delete instances[id];\n\t    }\n\t  },\n\t\n\t  nextZIndex: function nextZIndex() {\n\t    return PopupManager.zIndex++;\n\t  },\n\t\n\t  modalStack: [],\n\t\n\t  doOnModalClick: function doOnModalClick() {\n\t    var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n\t    if (!topItem) return;\n\t\n\t    var instance = PopupManager.getInstance(topItem.id);\n\t    if (instance && instance.closeOnClickModal) {\n\t      instance.close();\n\t    }\n\t  },\n\t\n\t  openModal: function openModal(id, zIndex, dom, modalClass) {\n\t    if (!id || zIndex === undefined) return;\n\t\n\t    var modalStack = this.modalStack;\n\t\n\t    for (var i = 0, j = modalStack.length; i < j; i++) {\n\t      var item = modalStack[i];\n\t      if (item.id === id) {\n\t        return;\n\t      }\n\t    }\n\t\n\t    var modalDom = getModal();\n\t    setTimeout(function () {\n\t      modalDom.addEventListener('click', handleModalClick);\n\t    }, 300);\n\t\n\t    modalDom.classList.add('v-modal');\n\t    modalDom.classList.add('v-modal-enter');\n\t    if (modalClass) {\n\t      var classArr = modalClass.trim().split(/\\s+/);\n\t      classArr.forEach(function (item) {\n\t        return modalDom.classList.add(item);\n\t      });\n\t    }\n\t    setTimeout(function () {\n\t      modalDom.classList.remove('v-modal-enter');\n\t    }, 200);\n\t\n\t    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n\t      dom.parentNode.appendChild(modalDom);\n\t    } else {\n\t      document.body.appendChild(modalDom);\n\t    }\n\t\n\t    if (zIndex) {\n\t      modalDom.style.zIndex = zIndex;\n\t    }\n\t    modalDom.style.display = '';\n\t\n\t    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n\t  },\n\t\n\t  closeModal: function closeModal(id) {\n\t    var modalStack = this.modalStack;\n\t    var modalDom = getModal();\n\t\n\t    if (modalStack.length > 0) {\n\t      var topItem = modalStack[modalStack.length - 1];\n\t      if (topItem.id === id) {\n\t        if (topItem.modalClass) {\n\t          var classArr = topItem.modalClass.trim().split(/\\s+/);\n\t          classArr.forEach(function (item) {\n\t            return modalDom.classList.remove(item);\n\t          });\n\t        }\n\t\n\t        modalStack.pop();\n\t        if (modalStack.length > 0) {\n\t          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n\t        }\n\t      } else {\n\t        for (var i = modalStack.length - 1; i >= 0; i--) {\n\t          if (modalStack[i].id === id) {\n\t            modalStack.splice(i, 1);\n\t            break;\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    if (modalStack.length === 0) {\n\t      modalDom.classList.add('v-modal-leave');\n\t      setTimeout(function () {\n\t        if (modalStack.length === 0) {\n\t          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n\t          modalDom.style.display = 'none';\n\t        }\n\t        modalDom.removeEventListener('click', handleModalClick);\n\t        modalDom.classList.remove('v-modal-leave');\n\t      }, 200);\n\t    }\n\t  }\n\t};\n\twindow.addEventListener('keydown', function (event) {\n\t  if (event.keyCode === 27) {\n\t    if (PopupManager.modalStack.length > 0) {\n\t      var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n\t      if (!topItem) return;\n\t      var instance = PopupManager.getInstance(topItem.id);\n\t      if (instance.closeOnPressEscape) {\n\t        instance.close();\n\t      }\n\t    }\n\t  }\n\t});\n\t\n\texports.default = PopupManager;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.merge = merge;\n\tfunction merge(target) {\n\t  for (var i = 1, j = arguments.length; i < j; i++) {\n\t    var source = arguments[i];\n\t    for (var prop in source) {\n\t      if (source.hasOwnProperty(prop)) {\n\t        var value = source[prop];\n\t        if (value !== undefined) {\n\t          target[prop] = value;\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  return target;\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6824c467e0ed92102e99\n **/","import Vue from 'vue';\nimport { merge } from './util';\nimport { default as PopupManager } from './popup-manager';\n\nrequire('./popup.css');\n\nlet idSeed = 1;\nconst transitions = [];\n\nconst hookTransition = (transition) => {\n  if (transitions.indexOf(transition) !== -1) return;\n\n  const getVueInstance = (element) => {\n    let instance = element.__vue__;\n    if (!instance) {\n      const textNode = element.previousSibling;\n      if (textNode.__vue__) {\n        instance = textNode.__vue__;\n      }\n    }\n    return instance;\n  };\n\n  Vue.transition(transition, {\n    afterEnter(el) {\n      const instance = getVueInstance(el);\n\n      if (instance) {\n        instance.doAfterOpen && instance.doAfterOpen();\n      }\n    },\n    afterLeave(el) {\n      const instance = getVueInstance(el);\n\n      if (instance) {\n        instance.doAfterClose && instance.doAfterClose();\n      }\n    }\n  });\n};\n\nconst getDOM = function(dom) {\n  if (dom.nodeType === 3) {\n    return dom.nextElementSibling;\n  }\n  return dom;\n};\n\nexport default {\n  props: {\n    visible: {\n      type: Boolean,\n      twoWay: true,\n      default: false\n    },\n    transition: {\n      type: String,\n      default: ''\n    },\n    openDelay: {},\n    closeDelay: {},\n    zIndex: {},\n    modal: {\n      type: Boolean,\n      default: false\n    },\n    modalClass: {\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: false\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  created() {\n    if (this.transition) {\n      hookTransition(this.transition);\n    }\n  },\n\n  compiled() {\n    this._popupId = 'popup-' + idSeed++;\n    PopupManager.register(this._popupId, this);\n  },\n\n  beforeDestroy() {\n    PopupManager.deregister(this._popupId);\n    PopupManager.closeModal(this._popupId);\n  },\n\n  data() {\n    return {\n      bodyOverflow: null,\n      rendered: false\n    };\n  },\n\n  watch: {\n    visible(val) {\n      if (val) {\n        if (this._opening) return;\n        if (!this.rendered) {\n          this.rendered = true;\n          Vue.nextTick(() => {\n            this.open();\n          });\n        } else {\n          this.open();\n        }\n      } else {\n        this.close();\n      }\n    }\n  },\n\n  methods: {\n    open(options) {\n      if (!this.rendered) {\n        this.rendered = true;\n        this.visible = true;\n\n        return;\n      }\n\n      const props = merge({}, this, options);\n\n      if (this._closeTimer) {\n        clearTimeout(this._closeTimer);\n        this._closeTimer = null;\n      }\n      clearTimeout(this._openTimer);\n\n      const openDelay = Number(props.openDelay);\n      if (openDelay > 0) {\n        this._openTimer = setTimeout(() => {\n          this._openTimer = null;\n          this.doOpen(props);\n        }, openDelay);\n      } else {\n        this.doOpen(props);\n      }\n    },\n\n    doOpen(props) {\n      if (this.willOpen && !this.willOpen()) return;\n\n      this._opening = true;\n      this.visible = true;\n\n      const dom = getDOM(this.$el);\n\n      const modal = props.modal;\n\n      const zIndex = props.zIndex;\n      if (zIndex) {\n        PopupManager.zIndex = zIndex;\n      }\n\n      if (modal) {\n        if (this._closing) {\n          PopupManager.closeModal(this._popupId);\n          this._closing = false;\n        }\n        PopupManager.openModal(this._popupId, PopupManager.nextZIndex(), dom, props.modalClass);\n        if (!this.bodyOverflow) {\n          this.bodyOverflow = document.body.style.overflow;\n        }\n        document.body.style.overflow = 'hidden';\n      }\n\n      if (getComputedStyle(dom).position === 'static') {\n        dom.style.position = 'absolute';\n      }\n\n      if (modal) {\n        dom.style.zIndex = PopupManager.nextZIndex();\n      } else if (zIndex) {\n        dom.style.zIndex = zIndex;\n      }\n\n      this.onOpen && this.onOpen();\n\n      if (!this.transition) {\n        this.doAfterOpen();\n      }\n    },\n\n    doAfterOpen() {\n      this._opening = false;\n    },\n\n    close() {\n      if (this.willClose && !this.willClose()) return;\n\n      if (this._openTimer !== null) {\n        clearTimeout(this._openTimer);\n        this._openTimer = null;\n      }\n      clearTimeout(this._closeTimer);\n\n      const closeDelay = Number(this.closeDelay);\n\n      if (closeDelay > 0) {\n        this._closeTimer = setTimeout(() => {\n          this._closeTimer = null;\n          this.doClose();\n        }, closeDelay);\n      } else {\n        this.doClose();\n      }\n    },\n\n    doClose() {\n      this.visible = false;\n      this._closing = true;\n\n      this.onClose && this.onClose();\n\n      if (this.modal) {\n        document.body.style.overflow = this.bodyOverflow;\n      }\n\n      if (!this.transition) {\n        this.doAfterClose();\n      }\n    },\n\n    doAfterClose() {\n      PopupManager.closeModal(this._popupId);\n      this._closing = false;\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const getModal = function() {\n  let modalDom = PopupManager.modalDom;\n  if (!modalDom) {\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n\n    modalDom.addEventListener('touchmove', function(event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n  }\n\n  return modalDom;\n};\n\nconst handleModalClick = function() {\n  PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n};\n\nconst instances = {};\n\nconst PopupManager = {\n  zIndex: 1000,\n\n  getInstance: function(id) {\n    return instances[id];\n  },\n\n  register: function(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n\n  deregister: function(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n\n  nextZIndex: function() {\n    return PopupManager.zIndex++;\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function() {\n    const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n\n    const instance = PopupManager.getInstance(topItem.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n\n  openModal: function(id, zIndex, dom, modalClass) {\n    if (!id || zIndex === undefined) return;\n\n    const modalStack = this.modalStack;\n\n    for (let i = 0, j = modalStack.length; i < j; i++) {\n      const item = modalStack[i];\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    const modalDom = getModal();\n    setTimeout(() => {\n      modalDom.addEventListener('click', handleModalClick);\n    }, 300);\n\n    modalDom.classList.add('v-modal');\n    modalDom.classList.add('v-modal-enter');\n    if (modalClass) {\n      let classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(item => modalDom.classList.add(item));\n    }\n    setTimeout(() => {\n      modalDom.classList.remove('v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n    modalDom.style.display = '';\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n  },\n\n  closeModal: function(id) {\n    const modalStack = this.modalStack;\n    const modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      const topItem = modalStack[modalStack.length - 1];\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          let classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(item => modalDom.classList.remove(item));\n        }\n\n        modalStack.pop();\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (let i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      modalDom.classList.add('v-modal-leave');\n      setTimeout(() => {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n        }\n        modalDom.removeEventListener('click', handleModalClick);\n        modalDom.classList.remove('v-modal-leave');\n      }, 200);\n    }\n  }\n};\nwindow.addEventListener('keydown', function(event) {\n  if (event.keyCode === 27) { // ESC\n    if (PopupManager.modalStack.length > 0) {\n      const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n      if (!topItem) return;\n      const instance = PopupManager.getInstance(topItem.id);\n      if (instance.closeOnPressEscape) {\n        instance.close();\n      }\n    }\n  }\n});\n\nexport default PopupManager;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/popup-manager.js\n **/","export function merge(target) {\n  for (var i = 1, j = arguments.length; i < j; i++) {\n    var source = arguments[i];\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        var value = source[prop];\n        if (value !== undefined) {\n          target[prop] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"vue\"\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}